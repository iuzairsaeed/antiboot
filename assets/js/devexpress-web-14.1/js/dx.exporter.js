/*! 
* DevExtreme Exporter
* Version: 14.2.6
* Build date: Mar 18, 2015
*
* Copyright (c) 2012 - 2015 Developer Express Inc. ALL RIGHTS RESERVED
* EULA: https://www.devexpress.com/Support/EULAs/DevExtreme.xml
*/
"use strict";DevExpress.MOD_TMP_WIDGETS_FOR_EXPORTER||(function(n,t){var u=t.ui,f=t.utils,rt=u.events,e="dx-menu",c="dx-menu-base",r=e+"-item",o=r+"-selected",h=r+"-wrapper",l=e+"-items-container",a=r+"-expanded",v=e+"-separator",y=e+"-last-group-item",p=r+"-has-text",w=r+"-has-icon",b=r+"-has-submenu",k="dx-state-disabled",d="."+r,g="."+o,s="single",nt="none",tt=1,it=u.CollectionWidget.inherit({NAME:"dxMenuBase",_setDefaultOptions:function(){this.callBase(),this.option({items:[],cssClass:"",activeStateEnabled:!0,showSubmenuMode:"onHover",animation:{show:{type:"fade",from:0,to:1,duration:100},hide:{type:"fade",from:1,to:0,duration:100}},selectionByClick:!1,selectionMode:"none",focusOnSelectedItem:!1,_remoteSelectionSync:!1,hoverStateEnabled:!0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return t.devices.real().generic&&!t.devices.isSimulator()},options:{focusStateEnabled:!0}}])},_activeStateUnit:d,_itemDataKey:function(){return"dxMenuItemDataKey"},_itemClass:function(){return r},_selectedItemClass:function(){return o},_focusTarget:function(){return this._itemContainer()},_eventBindingTarget:function(){return this._itemContainer()},_supportedKeys:function(){var t=function(){var t=this.option("focusedElement");t&&this._isSelectionEnabled()&&this.selectItem(t)};return n.extend(this.callBase(),{space:t,pageUp:n.noop,pageDown:n.noop})},_isSelectionEnabled:function(){return this._getSelectionMode()===s},_getSelectionMode:function(){return this.option("selectionMode")===s?s:nt},_init:function(){this.callBase(),this._initActions()},_initActions:n.noop,_render:function(){var n=this.element();this.callBase(arguments),this._addCustomCssClass(n),this._itemContainer().addClass(c)},_getShowSubmenuMode:function(){return this._isDesktopDevice()?this.option("showSubmenuMode"):"onClick"},_isDesktopDevice:function(){return t.devices.real().deviceType==="desktop"},_initEditStrategy:function(){var n=u.CollectionWidget.MenuBaseEditStrategy;this._editStrategy=new n(this)},_addCustomCssClass:function(n){n.addClass(this.option("cssClass"))},_itemWrapperSelector:function(){return"."+h},_hoverStartHandler:function(t){var r=this._getShowSubmenuMode(),i=this._getItemElementByEventArgs(t),u;i&&(u=i.hasClass(k),t.stopPropagation(),this.option("focusedElement",i),r==="onHover"?this._showSubmenu(i):r==="onHoverStay"&&setTimeout(n.proxy(this._showSubmenuOnHoverStay,this),300,i))},_showSubmenuOnHoverStay:function(n){n.hasClass("dx-state-focused")&&this._showSubmenu(n)},_showSubmenu:function(n){n.addClass(a)},_getItemElementByEventArgs:function(t){var i=n(t.target),r=t.currentTarget;if(i.hasClass(this._itemClass())||i.get(0)===r)return i;while(!i.hasClass(this._itemClass()))if(i=i.parent(),i.hasClass("dx-submenu"))return null;return i},_hoverEndHandler:n.noop,_hasSubmenu:function(n){return n.items&&n.items.length>0},_renderItems:function(t,i,r){var f=this,u,i=i||tt;t.length&&(u=this._renderContainer(i,r),n.each(t,function(n,t){f._renderItem(n,t,u,i)})),this._setSelectionFromItems()},_renderContainer:function(){var t=this._createItemsContainer();return t.addClass(l),t},_createItemsContainer:function(){var t=n("<div>").appendTo(this.element());return n("<ul>").appendTo(t)},_renderItem:function(t,i,r,u){var s=this.option("items"),e=n("<li>"),o;this._renderSeparator(i,t,r),e.appendTo(r).addClass(h),s[t+1]&&s[t+1].beginGroup&&e.addClass(y),f.isObject(i)||(i={text:i}),f.isDefined(i.selected)||(i.selected=!1),o=this.callBase(t,i,e),this._addContentClasses(i,o),this._renderSubmenuItems(i,o,u)},_addContentClasses:function(n,t){n.text&&t.addClass(p),(n.icon||n.iconSrc)&&t.addClass(w),n.items&&n.items.length>0&&t.addClass(b)},_setSelectionFromItems:function(){var t=this.option("selectedIndex"),i=!t||t===-1;!this.option("_remoteSelectionSync")&&i&&(n.each(this._editStrategy._getPlainItems(),function(n,i){i.selected&&i.selectable!==!1&&(t=n)}),t&&this.option("selectedIndex",t))},_renderSeparator:function(t,i,r){t.beginGroup&&i>0&&n("<li>").appendTo(r).addClass(v)},_renderSubmenuItems:n.noop,_itemClickHandler:function(t){var i=this._createAction(n.proxy(this._updateSubmenuVisibilityOnClick,this));this._itemJQueryEventHandler(t,"onItemClick",{},{afterExecute:n.proxy(i,this)})},_updateSubmenuVisibilityOnClick:function(n){this._updateSelectedItemOnClick(n),this._getShowSubmenuMode()==="onClick"&&this._showSubmenu(n.args[0].itemElement)},_updateSelectedItemOnClick:function(n){var t=n.args?n.args[0]:n,u=this._isSelectionEnabled()&&this.option("selectionByClick"),i,r;u&&t.itemData.selectable!==!1&&!this._hasSubmenu(t.itemData)&&(i=this._itemContainer().find(g),i.length?(r=this._getItemData(i),i.removeClass(o),r&&(r.selected=!1,this._clearSelectedItems()),i.is(t.itemElement)||this._setSelectedItems(t)):this._setSelectedItems(t))},_setSelectedItems:function(n){n.itemData.selected=!0,this.option("selectedItems",[n.itemData])},_syncSelectionOptions:function(t){var i=this._editStrategy._getPlainItems()||[],e=this.option("selectedItems")||[],r=this.option("selectedItem"),u=this.option("selectedIndex");t=t||this._chooseSelectOption();switch(t){case"selectedItems":this._setOptionSilent("selectedItem",e[0]),this._setOptionSilent("selectedIndex",n.inArray(e[0],i));break;case"selectedItem":f.isDefined(r)?(this._setOptionSilent("selectedItems",[r]),this._setOptionSilent("selectedIndex",n.inArray(r,i))):(this._setOptionSilent("selectedItems",[]),this._setOptionSilent("selectedIndex",-1));break;case"selectedIndex":f.isDefined(i[u])?(this._setOptionSilent("selectedItems",[i[u]]),this._setOptionSilent("selectedItem",i[u])):(this._setOptionSilent("selectedItems",[]),this._setOptionSilent("selectedItem",null))}},_getStringifiedArray:function(t){return n.map(t,function(n){return JSON.stringify(n)})},_isOwnItem:function(t){var i=this._editStrategy._getPlainItems();return n.inArray(JSON.stringify(t),this._getStringifiedArray(i))>=0},_optionChanged:function(n){switch(n.name){case"showSubmenuMode":break;case"_remoteSelectionSync":case"cssClass":case"position":case"selectionByClick":case"animation":this._invalidate();break;default:this.callBase(n)}},selectItem:function(t){var i=this._editStrategy.getNormalizedIndex(t),f=this._getItemData(t),u,r;i!==-1&&(u=n.inArray(i,this._selectedItemIndices),u===-1)&&this.option("selectionMode")==="single"&&f.selectable!==!1&&(r=this._editStrategy.fetchSelectedItems([i]),r[0].selected=!0,this.option("selectedItems",r))},unselectItem:function(t){var r=this._editStrategy.getNormalizedIndex(t),i,u;r!==-1&&(i=n.inArray(r,this._selectedItemIndices),i!==-1)&&(u=this._editStrategy.fetchSelectedItems([i]),u[0].selected=!1,this.option("selectedItems",[]))}});u.dxMenuBase=it}(jQuery,DevExpress),function(n,t){var r=t.ui;r.CollectionWidget.MenuBaseEditStrategy=r.CollectionWidget.PlainEditStrategy.inherit({_getPlainItems:function(){return n.map(this._collectionWidget.option("items"),function t(i){return i.items?[i].concat(n.map(i.items,t)):i})},_getStringifiedArray:function(t){var i=this;return n.map(t,function(n){return i._stringifyItem(n)})},_stringifyItem:function(n){var t=this;return JSON.stringify(n,function(n,i){return n==="template"?t._getTemplateString(i):i})},_getTemplateString:function(t){var i;return i=typeof t=="object"?n(t).text():t.toString()},selectedItemIndices:function(){var t=[],i=this._getStringifiedArray(this._getPlainItems()),r=this._collectionWidget.option("selectedItems");return n.each(r,function(r,u){var f=n.inArray(JSON.stringify(u),i);f!==-1&&t.push(f)}),t},fetchSelectedItems:function(t){t=t||this._collectionWidget._selectedItemIndices;var r=this._getPlainItems(),i=[];return n.each(t,function(n,t){i.push(r[t])}),i}})}(jQuery,DevExpress),function(n,t,i){var o=t.ui,d=t.utils,s=o.events,h=t.fx,c="dx-menu",e=c+"-item",r=e+"-expanded",g="dx-menu-phone-overlay",f=c+"-items-container",nt=e+"-wrapper",u="dx-submenu",l="dx-context-menu",ft=l+"-content-delimiter",tt="dx-has-context-menu",it="dx-state-disabled",rt="dxSubmenuLevel",a="up",v="down",y="left",p="right",w="first",b="last",k=["onShowing","onShown","onHiding","onHidden","onPositioning","onLeftFirstItem","onLeftLastItem","onCloseRootSubmenu","onExpandLastSubmenu"],ut=[a,v,w,b];t.registerComponent("dxContextMenu",o,o.dxMenuBase.inherit({_setDeprecatedOptions:function(){this.callBase(),n.extend(this._deprecatedOptions,{direction:{since:"14.1",alias:"submenuDirection"},allowSelectItem:{since:"14.1",alias:"allowSelection"},showingAction:{since:"14.1",alias:"onShowing"},shownAction:{since:"14.1",alias:"onShown"},hiddenAction:{since:"14.1",alias:"onHidden"},hidingAction:{since:"14.1",alias:"onHiding"},positioningAction:{since:"14.1",alias:"onPositioning"}})},_setDefaultOptions:function(){this.callBase(),this.option({invokeOnlyFromCode:!1,position:{at:"top left",my:"top left"},onShowing:null,onShown:null,onHiding:null,onHidden:null,onPositioning:null,submenuDirection:"auto",visible:!1,target:window,onLeftFirstItem:null,onLeftLastItem:null,onCloseRootSubmenu:null,onExpandLastSubmenu:null})},_initActions:function(){this._actions={},n.each(k,n.proxy(function(t,i){this._actions[i]=this._createActionByOption(i)||n.noop},this))},_setOptionsByReference:function(){this.callBase(),n.extend(this._optionsByReference,{animation:!0,position:!0,selectedItem:!0})},_itemContainer:function(){return this._overlay.content()},_supportedKeys:function(){return n.extend(this.callBase(),{esc:this.hide})},_moveFocus:function(n){var t=this._getItemsByLocation(n),r=this._getActiveItem(!0),i,u=this.option("focusedElement");switch(n){case a:if(i=u?this._prevItem(t):t.last(),r.is(t.first()))this._actions.onLeftFirstItem(r);break;case v:if(i=u?this._nextItem(t):t.first(),r.is(t.last()))this._actions.onLeftLastItem(r);break;case p:i=this.option("rtlEnabled")?this._hideSubmenuHandler(t):this._expandSubmenuHandler(t);break;case y:i=this.option("rtlEnabled")?this._expandSubmenuHandler(t):this._hideSubmenuHandler(t);break;case w:i=t.first();break;case b:i=t.last();break;default:return this.callBase(n)}i.length!==0&&this.option("focusedElement",i)},_getItemsByLocation:function(t){var i,r=this._getActiveItem(!0),u=this.option("rtlEnabled")?y:p;return n.inArray(t,ut)>=0?i=r.closest("."+f).children().children():(i=this._itemElements(),t!==u&&(i=i.filter(":visible"))),i},_hideSubmenuHandler:function(){var t=this._getActiveItem(!0),i=t.parents("."+r).first();if(i.length)return this._hideSubmenusOnSameLevel(i),i;this._actions.onCloseRootSubmenu(t);return t},_expandSubmenuHandler:function(n){var t=this._getActiveItem(!0),i=t.children("."+u);if(i.length&&!t.hasClass(it))return i.css("visibility")==="hidden"&&this._showSubmenu(t),this._nextItem(n);this._actions.onExpandLastSubmenu(t);return t},_render:function(){this.element().addClass(tt),this.callBase()},_renderContentImpl:function(){var t=n(this.option("target"));this._renderContextMenuOverlay(),this._detachShowContextMenuEvents(t),this._attachShowContextMenuEvents(t),this.callBase()},_renderContextMenuOverlay:function(){var r=this._getOverlayOptions(),i=n("<div>"),t;i.appendTo(this._$element).dxOverlay(r),this._overlay=i.dxOverlay("instance"),t=this._overlay.content(),t.addClass(l),this._addCustomCssClass(t),this._addPlatformDependentClass(t),this.option("visible")&&this._show()},_addPlatformDependentClass:function(n){t.devices.current().phone&&n.addClass(g)},_detachShowContextMenuEvents:function(n){var t=s.addNamespace("dxcontextmenu",this.NAME);n.off(t),this._overlay&&this._overlay.content().off(t)},_attachShowContextMenuEvents:function(t){var i=this,r=s.addNamespace("dxcontextmenu",this.NAME),u=this._createAction(n.proxy(function(n){i.option("invokeOnlyFromCode")||i._show(n.jQueryEvent)},this));this._overlay&&this._overlay.content().on(r,n.noop);t.on(r,n.proxy(function(n){u({jQueryEvent:n})},this))},_hoverEndHandler:function(n){n.stopPropagation()},_renderDimensions:n.noop,_renderContainer:function(t,i){var e=n("<div>"),r=n("<ul>"),o=t===1?this._itemContainer():i;return e.appendTo(o).addClass(u).data(rt,t).css("visibility",t===1?"visible":"hidden"),r.appendTo(e).addClass(f),t===1&&(this.option("width")&&r.css("min-width",this.option("width")),this.option("height")&&r.css("min-height",this.option("height"))),r},_renderSubmenuItems:function(n,t,i){this._hasSubmenu(n)&&this._renderItems(n.items,++i,t)},_getOverlayOptions:function(){var t=this.option("position"),i=this.option("animation");return{focusStateEnabled:this.option("focusStateEnabled"),animation:i,closeOnOutsideClick:n.proxy(this._closeOnOutsideClickHandler,this),closeOnTargetScroll:!0,deferRendering:!1,disabled:this.option("disabled"),position:{at:t.at,my:t.my,of:this.option("target")},shading:!1,showTitle:!1,height:"auto",width:"auto",rtlEnabled:this.option("rtlEnabled"),onShowing:n.proxy(this._overlayShowingActionHandler,this),onShown:n.proxy(this._overlayShownActionHandler,this),onHiding:n.proxy(this._overlayHidingActionHandler,this),onHidden:n.proxy(this._overlayHiddenActionHandler,this),onPositioned:n.proxy(this._overlayPositionedActionHandler,this),onPositioning:n.proxy(this._overlayPositioningActionHandler,this)}},_overlayShowingActionHandler:function(n){this._actions.onShowing(n);this._clearFocusedItem()},_overlayShownActionHandler:function(n){this._actions.onShown(n);this._clearFocusedItem()},_clearFocusedItem:function(){this._removeFocusedItem(),this.option("focusedElement",null)},_overlayHidingActionHandler:function(n){this._actions.onHiding(n);this._hideAllShownSubmenus()},_overlayHiddenActionHandler:function(n){this._actions.onHidden(n);this._setOptionSilent("visible",!1)},_overlayPositionedActionHandler:n.noop,_overlayPositioningActionHandler:function(n){var u=this.element(),i=n.position,r=i;i.h.oversize===0&&i.v.oversize===0||this.option("_notChangePosition")||(r.h.location=Math.round(i.h.location-i.h.oversize),r.v.location=Math.round(i.v.location-i.v.oversize),t.position(u,r))},_closeOnOutsideClickHandler:function(n){var t,r,u,i,f,o;return n.target===document?!0:(r=this._getActiveItemsContainer(n.target),u=this._getItemsContainers(),t=this._searchActiveItem(n.target),i=this.element().parents("."+e),f=t[0]===i[0]&&t.length&&i.length,o=this._isIncludeOverlay(r,u)&&t.length,o||f)?(this._getShowSubmenuMode()==="onClick"&&this._hideAllShownChildSubmenus(t),!1):!0},_getActiveItemsContainer:function(t){return n(t).closest("."+f)},_getItemsContainers:function(){return this._overlay._$content.find("."+f)},_searchActiveItem:function(t){return n(t).closest("."+e).eq(0)},_isIncludeOverlay:function(t,i){var r=!1;return n.each(i,function(n,i){t.is(i)&&!r&&(r=!0)}),r},_hideAllShownChildSubmenus:function(t){var r=this,f=t.find("."+u),e=n.extend([],this._shownSubmenus),i;f.length>0&&n.each(e,function(n,u){i=r._searchActiveItem(u.context).parent(),i.parent().is(t.parent().parent())&&!i.is(t.parent())&&r._hideSubmenu(u)})},_showSubmenu:function(n){var i=n.children("."+u).length,t;this._hideSubmenusOnSameLevel(n),i&&(this.callBase(n),n.closest("."+f).find("."+r).removeClass(r),t=this._isSubmenuVisible(n.children("."+u)),t||(n.addClass(r),this._drawSubmenu(n)))},_hideSubmenusOnSameLevel:function(n){var t=n.closest("."+f).find("."+r);t.length&&(t.removeClass(r),this._hideSubmenu(t.find("."+u)))},_hideSubmenuGroup:function(n){this._isSubmenuVisible(n)&&this._hideSubmenuCore(n)},_isSubmenuVisible:function(n){return n.css("visibility")==="visible"},_drawSubmenu:function(i){var f=this.option("animation")?this.option("animation").show:{},e=this._getSubmenuPosition(i),r=i.children("."+u);this._overlay&&this._overlay.option("visible")&&(d.isDefined(this._shownSubmenus)||(this._shownSubmenus=[]),n.inArray(r,this._shownSubmenus)&&this._shownSubmenus.push(r),t.position(r,e),f&&this._animate(r,f),r.css("visibility","visible"),this._stopAnimate(r))},_animate:function(n,t){h.animate(n,t)},_getSubmenuPosition:function(n){var i=this.option("submenuDirection").toLowerCase(),r=this.option("rtlEnabled"),u=n.parent("."+nt),t={collision:"flip",of:u,offset:{h:0,v:-1}};switch(i){case"left":t.at="left top",t.my="right top";break;case"right":t.at="right top",t.my="left top";break;default:r?(t.at="left top",t.my="right top"):(t.at="right top",t.my="left top")}return t},_updateSubmenuVisibilityOnClick:function(t){var i,r,f;if(t.args.length&&t.args[0]){if(t.args[0].jQueryEvent.stopPropagation(),i=t.args[0].itemElement,r=i.children("."+u),i.context===r.context&&r.css("visibility")==="visible")return;if(!i.data(this._itemDataKey())||i.data(this._itemDataKey()).disabled)return;this._updateSelectedItemOnClick(t),r.length===0?(f=n(i.parents("."+u)[0]),this._hideSubmenu(f),!t.canceled&&this._overlay&&this._overlay.option("visible")&&this.option("visible",!1)):(this._shownSubmenus&&this._shownSubmenus.length>0&&(this._shownSubmenus[0].is(r)||this._shownSubmenus[0].has(r).length===1?this._hideSubmenu(r):this._hideAllShownSubmenus()),this._showSubmenu(i))}},_hideSubmenu:function(t){var i=this,u=n.extend([],i._shownSubmenus);n.each(u,function(n,u){(t.is(u)||t.has(u).length)&&(u.parent().removeClass(r),i._hideSubmenuCore(u))})},_hideSubmenuCore:function(t){var i=n.inArray(t,this._shownSubmenus),r=this.option("animation")?this.option("animation").hide:null;i>=0&&this._shownSubmenus.splice(i,1),this._stopAnimate(t),r&&this._animate(t,r),t.css("visibility","hidden")},_stopAnimate:function(n){h.stop(n,!0)},_hideAllShownSubmenus:function(){var t=this,i=n.extend([],t._shownSubmenus),u=this._overlay.content().find("."+r);u.removeClass(r),n.each(i,function(n,i){t._hideSubmenuCore(i)})},_optionChanged:function(t){if(!this._cancelOptionChange){if(n.inArray(t.name,k)>-1){this._initActions();return}switch(t.name){case"visible":this._toggleVisibility(t.value);break;case"invokeOnlyFromCode":break;case"items":this._overlay.option("visible")&&this._overlay.hide(),this.callBase(t);break;case"position":case"submenuDirection":this._invalidate();break;case"target":t.previousValue&&this._detachShowContextMenuEvents(n(t.previousValue)),this._invalidate();break;case"focusedElement":this.callBase(t);break;default:this._overlay&&this._overlay.option("visible")&&this._overlay.hide(),this.callBase(t)}}},_toggleVisibility:function(n){n?this._show():this._hide()},_show:function(t){var r=!(this._overlay&&this._positionContextMenu(t)),i;return r&&this._overlay&&(this.option("focusedElement",this._itemElements().first()),i=this._overlay.show(),this._setOptionSilent("visible",!0)),i||n.Deferred().reject().promise()},_positionContextMenu:function(n){var t=this.option("position"),r=this._createActionByOption("onPositioning",i),i;return n&&n.preventDefault&&(t={at:"top left",my:"top left",of:n}),t.of||(t.of=this.option("target")),i={position:t,jQueryEvent:n},r(i),!i.canceled&&this._overlay&&t&&this._overlay.option("position",t),i.canceled},_hide:function(){var t;return this._overlay&&(t=this._overlay.hide(),this._setOptionSilent("visible",!1)),t||n.Deferred().reject().promise()},_clean:function(){this._overlay&&(this._overlay.element().remove(),this._overlay=null),this._detachShowContextMenuEvents(n(this.option("target")))},toggle:function(n){var r,t=this.option("visible");return n=n===i?!t:n,n?this._show():this._hide()},show:function(){return this.toggle(!0)},hide:function(){return this.toggle(!1)}}))}(jQuery,DevExpress),function(n,t,i){var f=t.ui,y=t.utils,c=f.events,ht=t.fx,e="dx-menu",k=e+"-vertical",d=e+"-horizontal",p=e+"-item",w=e+"-items-container",l=p+"-expanded",a="dx-context-menu",v=a+"-container-border",s=p+"-selected",g="dx-state-disabled",b="dx-context-menu-content-delimiter",nt="dx-submenu",tt="."+s,h=50,it=50,rt="up",ut="down",ft="left",et="right",o="showSubmenu",u="nextItem",r="prevItem",ot=["onSubmenuShowing","onSubmenuShown","onSubmenuHiding","onSubmenuHidden"],st=f.dxContextMenu.inherit({_setDefaultOptions:function(){this.callBase(),this.option({orientation:"horizontal"})},_renderContentImpl:function(){this.callBase(),this._renderDelimiter()},_renderDelimiter:function(){this.$contentDelimiter=n("<div>").appendTo(this._itemContainer()).addClass(b)},_overlayPositionedActionHandler:function(n){this._showDelimiter(n)},_showDelimiter:function(n){var f=this._itemContainer().children("."+nt).eq(0),e=this.option("position").of,o=this.option("position").at,s=this.option("position").my,i={of:f},r,u;this.$contentDelimiter&&(r=n.position,u=e.offset(),this.$contentDelimiter.css("display","block"),this.option("orientation")==="horizontal"?(this.$contentDelimiter.width(e.width()<f.width()?e.width()-2:f.width()-2),this.$contentDelimiter.height(2),r.v.location>u.top?Math.round(r.h.location)===Math.round(u.left)?(i.offset="1 -1",i.at="left top",i.my="left top"):(i.offset="-1 -1",i.at="right top",i.my="right top"):(this.$contentDelimiter.height(4),Math.round(r.h.location)===Math.round(u.left)?(i.offset="1 2",i.at="left bottom",i.my="left bottom"):(i.offset="-1 2",i.at="right bottom",i.my="right bottom"))):this.option("orientation")==="vertical"&&(this.$contentDelimiter.width(2),this.$contentDelimiter.height(e.height()<f.height()?e.height()-2:f.height()-2),r.h.location>u.left?Math.round(r.v.location)===Math.round(u.top)?(i.offset="-1 1",i.at="left top",i.my="left top"):(i.offset="-1 -1",i.at="left bottom",i.my="left bottom"):Math.round(r.v.location)===Math.round(u.top)?(i.offset="1 1",i.at="right top",i.my="right top"):(i.offset="1 -1",i.at="right bottom",i.my="right bottom")),t.position(this.$contentDelimiter,i))}});t.registerComponent("dxMenu",f,f.dxMenuBase.inherit({_setDeprecatedOptions:function(){this.callBase(),n.extend(this._deprecatedOptions,{firstSubMenuDirection:{since:"14.1",alias:"submenuDirection"},showPopupMode:{since:"14.1",alias:"showFirstSubmenuMode"},allowSelectItem:{since:"14.1",alias:"allowSelection"},allowSelection:{since:"14.2",message:"Use the 'selectionMode' option instead"},submenuHiddenAction:{since:"14.2",alias:"onSubmenuHidden"},submenuHidingAction:{since:"14.2",alias:"onSubmenuHiding"},submenuShowingAction:{since:"14.2",alias:"onSubmenuShowing"},submenuShownAction:{since:"14.2",alias:"onSubmenuShown"}})},_setDefaultOptions:function(){this.callBase(),this.option({orientation:"horizontal",submenuDirection:"auto",showFirstSubmenuMode:"onClick",onSubmenuShowing:null,onSubmenuShown:null,onSubmenuHiding:null,onSubmenuHidden:null})},_setOptionsByReference:function(){this.callBase(),n.extend(this._optionsByReference,{animation:!0,selectedItem:!0})},_focusTarget:function(){return this.element()},_eventBindingTarget:function(){return this.element()},_getOrientation:function(){return this.option("orientation")==="vertical"?"vertical":"horizontal"},_isMenuHorizontal:function(){return this._getOrientation()==="horizontal"},_moveFocus:function(n){var h=this._itemElements().filter(":visible"),t=this._isMenuHorizontal(),i,c=this._getActiveItem(!0),f,e,s;switch(n){case rt:f=t?o:this._getItemsNavigationOperation(r),i=t?c:h,e=this._getKeyboardNavigationAction(f,i),s=e();break;case ut:f=t?o:this._getItemsNavigationOperation(u),i=t?c:h,e=this._getKeyboardNavigationAction(f,i),s=e();break;case et:f=t?this._getItemsNavigationOperation(u):o,i=t?h:c,e=this._getKeyboardNavigationAction(f,i),s=e();break;case ft:f=t?this._getItemsNavigationOperation(r):o,i=t?h:c,e=this._getKeyboardNavigationAction(f,i),s=e();break;default:return this.callBase(n)}s&&s.length!==0&&this.option("focusedElement",s)},_getItemsNavigationOperation:function(n){var t=n;return this.option("rtlEnabled")&&(t=n===r?u:r),t},_getKeyboardNavigationAction:function(t,i){var f=n.noop;switch(t){case o:i.hasClass(g)||(f=n.proxy(this._showSubmenu,this,i));break;case u:f=n.proxy(this._nextItem,this,i);break;case r:f=n.proxy(this._prevItem,this,i)}return f},_init:function(){this.callBase(),this._submenus=[]},_initActions:function(){this._actions={},n.each(ot,n.proxy(function(t,i){this._actions[i]=this._createActionByOption(i)||n.noop},this))},_render:function(){this._visibleSubmenu=[],this.callBase(),this.element().addClass(e)},_renderContainer:function(){var r=this.option("orientation")==="vertical",t=n("<div>"),i=n("<ul>");return t.appendTo(this.element()).addClass(r?k:d),i.appendTo(t).addClass(w).css("min-height",this._getValueHeight(t)),i},_getValueHeight:function(t){var i=n("<div>").html("Jj").css({width:"auto",position:"fixed",top:"-3000px",left:"-3000px"}).appendTo(t),r=i.height();return i.remove(),r},_renderSubmenuItems:function(n,t){if(this._hasSubmenu(n)){var i=this._createSubmenu(n.items,t);this._submenus.push(i),this._renderBorderElement(t)}},_createSubmenu:function(t,i){var u=n("<div>").addClass(a).appendTo(i),r=this._createComponent(u,"dxSubmenu",n.extend(this._getSubmenuOptions(),{items:t,position:this.getSubmenuPosition(i)}));return this._attachSubmenuHandlers(i,r),r},_getSubmenuOptions:function(){var i=n("<div>"),t=this._isMenuHorizontal();return{itemTemplate:this.option("itemTemplate"),templateProvider:this.option("templateProvider"),target:i,orientation:this.option("orientation"),selectionMode:this.option("selectionMode"),selectionByClick:this.option("selectionByClick"),cssClass:this.option("cssClass"),hoverStateEnabled:this.option("hoverStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),focusStateEnabled:this.option("focusStateEnabled"),animation:this.option("animation"),rtlEnabled:this.option("rtlEnabled"),disabled:this.option("disabled"),showSubmenuMode:this._getShowSubmenuMode(),onSelectionChanged:n.proxy(this._nestedItemOnSelectionChangedHandler,this),onItemClick:n.proxy(this._nestedItemOnItemClickHandler,this),onLeftFirstItem:t?null:n.proxy(this._moveMainMenuFocus,this,r),onLeftLastItem:t?null:n.proxy(this._moveMainMenuFocus,this,u),onCloseRootSubmenu:t?n.proxy(this._moveMainMenuFocus,this,r):null,onExpandLastSubmenu:t?n.proxy(this._moveMainMenuFocus,this,u):null,_remoteSelectionSync:!0,_notChangePosition:!0}},_getShowFirstSubmenuMode:function(){var n=t.devices.real().deviceType==="desktop";return n?this.option("showFirstSubmenuMode"):"onClick"},_moveMainMenuFocus:function(n){var i=this.element().find("."+l).first(),t;switch(n){case r:t=i.parent().prev(),t.length||(t=i.parent().siblings().last()),t=t.children();break;case u:t=i.parent().next(),t.length||(t=i.parent().siblings().first()),t=t.children()}this._visibleSubmenu.length&&this._hideSubmenu(this._visibleSubmenu),this.focus(),this.option("focusedElement",t)},_nestedItemOnSelectionChangedHandler:function(n){var t=n.addedItems,i=n.element.dxSubmenu("instance");this._clearSelectionInSubmenus(t[0],i),this._clearRootSelection(),this.option("selectedItems",t)},_clearSelectionInSubmenus:function(t,i){var r=this,u=!arguments.length;n.each(this._submenus,function(n,t){var o=t._itemContainer(),h=!o.is(i&&i._itemContainer()),f=o.find(tt),e;(h&&f.length||u)&&(f.removeClass(s),e=r._getItemData(f),e&&(e.selected=!1),t._clearSelectedItems())})},_clearRootSelection:function(){var n=this.element().find("."+w).first().children().children().filter("."+s),t;n.length&&(t=this._getItemData(n),t.selected=!1,n.removeClass(s)),this._clearSelectedItems()},_nestedItemOnItemClickHandler:function(n){var i,t=this._createActionByOption("onItemClick",{});t(n)},_updateSelectedItemOnClick:function(n){var t=this.option("selectedIndex");this.callBase(n),t!==this.option("selectedIndex")&&this._clearSelectionInSubmenus()},_attachSubmenuHandlers:function(t,i){var r=this,e=i._overlay.content(),o=e.find(".dx-submenu"),u=c.addNamespace("dxhoverstart",this.NAME+"_submenu"),f=c.addNamespace("dxhoverend",this.NAME+"_submenu");i.option({onShowing:n.proxy(this._submenuOnShowingHandler,this,t,i),onShown:n.proxy(this._submenuOnShownHandler,this,t,i),onHiding:n.proxy(this._submenuOnHidingHandler,this,t,i),onHidden:n.proxy(this._submenuOnHiddenHandler,this,t,i)}),n.each(o,function(i,e){n(e).off(u).off(f).on(u,null,n.proxy(r._submenuMouseEnterHandler,r,t)).on(f,null,n.proxy(r._submenuMouseLeaveHandler,r,t))})},_submenuOnShowingHandler:function(n,t){var r=n.children("."+v),u=this.option("animation")?this.option("animation").show:{};this._actions.onSubmenuShowing({rootItem:n,submenu:t});this._options.width!==i&&(this._options.rtlEnabled?r.css("width",this._$element.width()-n.position().right):r.css("width",this._$element.width()-n.position().left)),r.show(),n.addClass(l)},_submenuOnShownHandler:function(n,t){this._actions.onSubmenuShown({rootItem:n,submenu:t})},_submenuOnHidingHandler:function(n,t){var i=n.children("."+v),r=this.option("animation")?this.option("animation").hide:{};this._actions.onSubmenuHiding({rootItem:n,submenu:t});i.hide(),n.removeClass(l)},_submenuOnHiddenHandler:function(n,t){this._actions.onSubmenuHidden({rootItem:n,submenu:t})},_submenuMouseEnterHandler:function(n){this._hoveredContextMenuContainer=n},_submenuMouseLeaveHandler:function(n){var t=this,r=this._getShowFirstSubmenuMode(),i;r!=="onClick"&&setTimeout(function(){t._hoveredContextMenuContainer&&t._hoveredContextMenuContainer.is(t._hoveredRootItem)||(i=t._getSubmenuElementByRootElement(n),i.length&&t._hideSubmenu(i)),t._hoveredContextMenuContainer=null},h)},_getSubmenuElementByRootElement:function(n){return n&&n.children("."+a)},_getSubmenuInstanceByRootElement:function(n){var t=this._getSubmenuElementByRootElement(n);return t.length&&t.dxSubmenu("instance")},getSubmenuPosition:function(n){var i=this.option("orientation").toLowerCase()=="vertical",u=this.option("submenuDirection").toLowerCase(),r=this.option("rtlEnabled"),t={collision:"flip",of:n};switch(u){case"leftortop":t.at=i?"left top":"left top",t.my=i?"right top":"left bottom";break;case"rightorbottom":t.at=i?"right top":"left bottom",t.my=i?"left top":"left top";break;case"auto":default:i?(t.at=r?"left top":"right top",t.my=r?"right top":"left top"):(t.at=r?"right bottom":"left bottom",t.my=r?"right top":"left top")}return t},_renderBorderElement:function(t){n("<div>").appendTo(t).addClass(v).hide()},_hoverStartHandler:function(t){var s=this,r=c.addNamespace("dxpointermove",this.NAME),i=this._getItemElementByEventArgs(t),u=this._getSubmenuInstanceByRootElement(i),f=this._getShowFirstSubmenuMode(),e=f!=="onHover",o=y.isDefined(t.buttons)&&t.buttons===1||!y.isDefined(t.buttons)&&t.which===1;if(!this._isItemDisabled(i)&&(i.off(r),f!=="onClick"&&u&&!o))if(clearTimeout(this._hideSubmenuTimer),clearTimeout(this._showSubmenuTimer),e&&!u._overlay.option("visible")){i.on(r,n.proxy(this._itemMouseMoveHandler,this));this._showSubmenuTimer=h}else this._showSubmenu(i)},_isItemDisabled:function(n){return n.data(this._itemDataKey()).disabled},_hoverEndHandler:function(t){var r=this,u=this._getItemElementByEventArgs(t),i,f=this._getShowFirstSubmenuMode(),e=this._getShowFirstSubmenuMode()!=="onHover"?h:it;this._isItemDisabled(u)||n(t.relatedTarget).hasClass(b)||f!=="onClick"&&(clearTimeout(this._showSubmenuTimer),clearTimeout(this._hideSubmenuTimer),this._hideSubmenuTimer=setTimeout(function(){i=r._getSubmenuElementByRootElement(u),i.length&&r._hideSubmenu(i)},e))},_showSubmenu:function(n){var t=this._getSubmenuElementByRootElement(n);this._visibleSubmenu.length&&!this._visibleSubmenu.is(t)&&this._hideSubmenu(this._visibleSubmenu),t.length&&t.dxSubmenu("instance").show(),this._visibleSubmenu=t,this._hoveredRootItem=n},_hideSubmenu:function(n){this._hoveredRootItem&&this._hoveredRootItem.is(this._hoveredContextMenuContainer)||(n.length&&n.dxSubmenu("instance").hide(),this._visibleSubmenu.length&&this._visibleSubmenu.is(n)&&(this._visibleSubmenu=[])),this._hoveredRootItem=null},_itemMouseMoveHandler:function(t){var r=this,i=n(t.currentTarget),u=this._getSubmenuInstanceByRootElement(i);this._showSubmenuTimer&&(clearTimeout(this._hideSubmenuTimer),clearTimeout(this._showSubmenuTimer),this._showSubmenuTimer=setTimeout(function(){u._overlay.option("visible")||r._showSubmenu(i)},h))},_updateSubmenuVisibilityOnClick:function(n){var r,u,t,i=n.args.length&&n.args[0];if(i){if(i.jQueryEvent.stopPropagation(),u=i.itemData,r=i.itemElement,u.disabled)return;t=this._getSubmenuInstanceByRootElement(r),this._updateSelectedItemOnClick(n),t?t._overlay.option("visible")?this._getShowFirstSubmenuMode()==="onClick"&&this._hideSubmenu(t.element()):this._showSubmenu(r):this._visibleSubmenu.length&&this._hideSubmenu(this._visibleSubmenu)}},_optionChanged:function(n){if(!this._cancelOptionChange){this._hideShownSubmenuOnOptionChange(n.name);switch(n.name){case"selectedItems":var t=n.value[0];this._isItemInSubmenu(t)?(this._syncSelectionOptions(n.name),this._normalizeSelectedItems()):this.callBase(n);break;case"orientation":case"submenuDirection":this._invalidate();break;case"showFirstSubmenuMode":this._getShowSubmenuMode()==="auto"&&this._changeSubmenusOption("showSubmenuMode",this._getShowFirstSubmenuMode());break;case"showSubmenuMode":this._changeSubmenusOption(n.name,n.value);break;case"onSubmenuShowing":case"onSubmenuShown":case"onSubmenuHiding":case"onSubmenuHidden":this._initActions();break;default:this.callBase(n)}}},_hideShownSubmenuOnOptionChange:function(n){n!=="focusedElement"&&this._visibleSubmenu.length&&this._hideSubmenu(this._visibleSubmenu)},_changeSubmenusOption:function(t,i){n.each(this._submenus,function(n,r){r.option(t,i)})},_isItemInSubmenu:function(t){return n.inArray(JSON.stringify(t),this._getStringifiedArray(this.option("items")))<0},selectItem:function(t){var i=this._getItemData(t);this._isItemInSubmenu(i)?n.each(this._submenus,function(n,r){r._isOwnItem(i)&&r.selectItem(t)}):this.callBase(t)}})),t.registerComponent("dxSubmenu",f.dxMenu,st)}(jQuery,DevExpress),function(n,t,i){var e=t.ui,o=t.utils,r=e.events,h=t.fx,u=t.translator,v="dx-overlay",y="dx-overlay-wrapper",p="dx-overlay-content",w="dx-overlay-shader",b="dx-overlay-modal",k="content",d="dx-rtl",c=["onShowing","onShown","onHiding","onHidden","onPositioning","onPositioned"],l=1e3,g=[],nt="dx-state-disabled",tt=9,s=t.devices.real(),f=s.version,it=s.platform==="ios"&&(f[0]<7||f[0]==7&&f[1]==0),rt=s.platform==="android"&&f[0]==4&&f[1]==0&&navigator.userAgent.indexOf("Chrome")===-1,ut=function(n){if(it&&n.width(),rt){var t=n.parents(),i=t.is(".dx-scrollable-native");i||(t.css("backface-visibility","hidden"),t.css("backface-visibility"),t.css("backface-visibility","visible"))}},a=function(t){return n(t instanceof n.Event?t.target:t)};t.registerComponent("dxOverlay",e,e.Widget.inherit({_supportedKeys:function(){var t=5,r=this.callBase(),i=function(n,t,i){if(this.option("dragEnabled")){i.preventDefault(),i.stopPropagation();var r={top:n,left:t};this._changePosition(r)}};return n.extend(this.callBase(),{escape:function(){this.hide()},downArrow:n.proxy(i,this,t,0),upArrow:n.proxy(i,this,-t,0),leftArrow:n.proxy(i,this,0,-t),rightArrow:n.proxy(i,this,0,t)})},_setDeprecatedOptions:function(){this.callBase(),n.extend(this._deprecatedOptions,{shownAction:{since:"14.2",alias:"onShown"},showingAction:{since:"14.2",alias:"onShowing"},hidingAction:{since:"14.2",alias:"onHiding"},hiddenAction:{since:"14.2",alias:"onHidden"}})},_setDefaultOptions:function(){this.callBase(),this.option({activeStateEnabled:!1,visible:!1,deferRendering:!0,shading:!0,shadingColor:"",position:{my:"center",at:"center",of:window},width:function(){return n(window).width()*.8},height:function(){return n(window).height()*.8},animation:{show:{type:"pop",duration:400},hide:{type:"pop",duration:400,to:{opacity:0,scale:0},from:{opacity:1,scale:1}}},closeOnOutsideClick:!1,closeOnBackButton:!0,onShowing:null,onShown:null,onHiding:null,onHidden:null,contentTemplate:"content",dragEnabled:!1,target:i,container:i,hideTopOverlayHandler:i,closeOnTargetScroll:!1,onPositioning:null,onPositioned:null,boundaryOffset:{h:0,v:0}})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){var r=t.devices.real(),u=r.platform,i=r.version;return u==="android"&&(i[0]<4||i[0]==4&&i[1]<=1)},options:{animation:{show:{type:"fade",duration:400},hide:{type:"fade",duration:400,to:{opacity:0},from:{opacity:1}}}}}])},_setOptionsByReference:function(){this.callBase(),n.extend(this._optionsByReference,{animation:!0})},_getAnonimousTemplateName:function(){return k},_wrapper:function(){return this._$wrapper},_container:function(){return this._$content},_init:function(){this.callBase(),this._initActions(),this._initCloseOnOutsideClickHandler(),this._$wrapper=n("<div>").addClass(y),this._$content=n("<div>").addClass(p);var t=this.element();this._$wrapper.addClass(t.attr("class")),t.addClass(v),this._$wrapper.attr("data-bind","dxControlsDescendantBindings: true");this._$wrapper.on("MSPointerDown",n.noop);this._toggleViewPortSubscriptiion(!0)},_initOptions:function(n){this._initTarget(n.target),this._initContainer(n.container),this._initHideTopOverlayHandler(n.hideTopOverlayHandler),this.callBase(n)},_initTarget:function(t){if(o.isDefined(t)){var i=this.option();n.each(["position.of","animation.show.from.position.of","animation.show.to.position.of","animation.hide.from.position.of","animation.hide.to.position.of"],function(r,u){for(var e=u.split("."),f=i;f;)if(e.length==1){n.isPlainObject(f)&&(f[e.shift()]=t);break}else f=f[e.shift()]})}},_initContainer:function(r){r=r===i?t.viewPort():r;var f=this.element(),u=f.closest(r);u.length||(u=n(r).first()),this._$container=u.length?u:f.parent()},_initHideTopOverlayHandler:function(t){this._hideTopOverlayHandler=t!==i?t:n.proxy(this._defaultHideTopOverlayHandler,this)},_defaultHideTopOverlayHandler:function(){this.hide()},_initActions:function(){this._actions={},n.each(c,n.proxy(function(t,i){this._actions[i]=this._createActionByOption(i)||n.noop},this))},_initCloseOnOutsideClickHandler:function(){this._proxiedDocumentDownHandler=n.proxy(function(){this._documentDownHandler.apply(this,arguments)},this)},_documentDownHandler:function(t){var i,r,u;this._isTopOverlay()&&(i=this.option("closeOnOutsideClick"),n.isFunction(i)&&(i=i(t)),i&&(r=this._$content,u=!r.is(t.target)&&!n.contains(r.get(0),t.target),u&&(this.option("shading")&&t.preventDefault(),this.hide())))},_isTopOverlay:function(){var n=this._zIndexStack();return n[n.length-1]===this._zIndex},_zIndexStack:function(){return g},_zIndexInitValue:function(){return l},_toggleViewPortSubscriptiion:function(i){t.viewPortChanged.remove(this._viewPortChangeHandle),i&&(this._viewPortChangeHandle=n.proxy(this._viewPortChangeHandler,this),t.viewPortChanged.add(this._viewPortChangeHandle))},_viewPortChangeHandler:function(){this._initContainer(this.option("container")),this._refresh()},_renderVisibilityAnimate:function(){var n=this.option("visible");return this._stopAnimation(),n?this._show():this._hide()},_normalizePosition:function(){this._position=this.option("position")},_show:function(){if(this.element().parent().is(":hidden"))return n.Deferred().resolve();this._normalizePosition();var t=this,i=n.Deferred(),u=t.option("animation")||{},r=this._normalizeAnimation(u.show,"to"),f=r&&r.complete||n.noop;return this._isHidingActionCancelled?(delete this._isHidingActionCancelled,i.resolve()):(this._toggleVisibility(!0),this._animate(r,function(){t.option("focusStateEnabled")&&t._focusTarget().focus(),f.apply(this,arguments),t._actions.onShown(),i.resolve()})),i.promise()},_normalizeAnimation:function(t,i){return t&&t[i]&&(t=n.extend({type:"slide"},t),n.extend(t[i],{position:this._position})),t},_hide:function(){var r=this,t=n.Deferred(),f=this.option("animation")||{},i=this._normalizeAnimation(f.hide,"from"),e=i&&i.complete||n.noop,u={cancel:!1};this._actions.onHiding(u);return u.cancel?(this._isHidingActionCancelled=!0,this.option("visible",!0),t.resolve()):(this._toggleShading(!1),this._animate(i,function(){r._toggleVisibility(!1),e.apply(this,arguments),r._actions.onHidden(),t.resolve()})),t.promise()},_animate:function(t,i){if(t){var u=t.start||n.noop,r=this._$content;h.animate(this._$content,n.extend({},t,{start:function(){r.css("pointer-events","none"),u.apply(this,arguments)},complete:function(){r.css("pointer-events",""),i.apply(this,arguments)}}))}else i()},_stopAnimation:function(){h.stop(this._$content,!0)},_toggleVisibility:function(n){this._stopAnimation(),n||o.triggerHidingEvent(this._$content),this.callBase.apply(this,arguments),this._$content.toggle(n),this._updateZIndexStackPosition(n),n?(this._actions.onShowing(),this._renderContent(),this._moveToContainer(),this._renderGeometry(),o.triggerShownEvent(this._$content)):this._moveFromContainer(),this._toggleShading(n),this._toggleSubscriptions(n)},_updateZIndexStackPosition:function(t){var i=this._zIndexStack(),r,u;t?(this._zIndex||(r=i.length,this._zIndex=(r?i[r-1]:this._zIndexInitValue())+1,i.push(this._zIndex)),this._$wrapper.css("z-index",this._zIndex),this._$content.css("z-index",this._zIndex)):this._zIndex&&(u=n.inArray(this._zIndex,i),i.splice(u,1),delete this._zIndex)},_toggleShading:function(n){this._$wrapper.toggleClass(b,this.option("shading")&&!this.option("container")),this._$wrapper.toggleClass(w,n&&this.option("shading")),this._$wrapper.css("background-color",this.option("shading")?this.option("shadingColor"):""),this._toggleTabTerminator(n&&this.option("shading"))},_toggleTabTerminator:function(t){var i=r.addNamespace("keydown",this.NAME);if(t)n(document).on(i,n.proxy(this._tabKeyHandler,this));else n(document).off(i)},_tabKeyHandler:function(t){if(t.keyCode===tt){var i=this._$wrapper.find("input, textarea, button, select, a[href], [tabindex][tabindex!=-1]").filter(":visible:not(:disabled)"),r=i.first(),u=i.last(),f=!t.shiftKey&&t.target===u.get(0),e=t.shiftKey&&t.target===r.get(0),o=i.length===0,s=n.inArray(t.target,i)===-1;(f||e||o||s)&&(t.preventDefault(),(t.shiftKey?u:r).focusin().focus())}},_toggleSubscriptions:function(n){this._toggleHideTopOverlayCallback(n),this._toggleDocumentDownHandler(n),this._toggleParentsScrollSubscription(n)},_toggleHideTopOverlayCallback:function(n){this._hideTopOverlayHandler&&(n&&this.option("closeOnBackButton")?t.hideTopOverlayCallback.add(this._hideTopOverlayHandler):t.hideTopOverlayCallback.remove(this._hideTopOverlayHandler))},_toggleDocumentDownHandler:function(t){var i=r.addNamespace("dxpointerdown",this.NAME);if(t)n(document).on(i,this._proxiedDocumentDownHandler);else n(document).off(i,this._proxiedDocumentDownHandler)},_toggleParentsScrollSubscription:function(i){var f=this._position;if(f&&f.of){var e=this,o=this.option("closeOnTargetScroll"),u=a(f.of).parents();if(t.devices.real().platform=="generic"&&(u=u.add(window)),u.off(r.addNamespace("scroll dxscroll",e.NAME)),i&&o)u.on(r.addNamespace("scroll dxscroll",e.NAME),function(t){if(!t.overlayProcessed){t.overlayProcessed=!0;var i=!1;n.isFunction(o)&&(i=o(t)),i||e.hide()}})}},_renderContent:function(){this._contentAlreadyRendered||!this.option("visible")&&this.option("deferRendering")||(this._contentAlreadyRendered=!0,this.callBase())},_renderContentImpl:function(){var t=this.element(),n;this._$content.appendTo(t),n=this._getTemplate(this.option("contentTemplate")),n&&n.render(this.content()),this._renderDrag(),this._renderScrollTerminator()},_renderDrag:function(){var t=this._getDragTarget(),i,u;if(t&&(i=r.addNamespace("dxdragstart",this.NAME),u=r.addNamespace("dxdrag",this.NAME),t.off(i).off(u),this.option("dragEnabled")))t.on(i,n.proxy(this._dragStartHandler,this)).on(u,n.proxy(this._dragUpdateHandler,this))},_renderScrollTerminator:function(){var t=this._wrapper(),n=r.addNamespace("dxscroll",this.NAME);t.off(n).on(n,{validate:function(){return!0},getDirection:function(){return"both"},isNative:!0},function(n){n.preventDefault()})},_getDragTarget:function(){return this.content()},_dragStartHandler:function(n){n.targetElements=[],this._prevOffset={x:0,y:0};var i=u.locate(this._$content),r=this._allowedOffsets(),f=this._deltaSize(),t=f.height>=0&&f.width>=0;this._dragHandled=t,n.maxLeftOffset=t?i.left+r.left:0,n.maxRightOffset=t?-i.left+r.right:0,n.maxTopOffset=t?i.top+r.top:0,n.maxBottomOffset=t?-i.top+r.bottom:0},_deltaSize:function(){var n=this._$content,t=this._$container,i=n.outerWidth(),r=n.outerHeight(),u=t.width(),f=t.height();return{width:u-i,height:f-r}},_dragUpdateHandler:function(n){var t=n.offset,i=this._prevOffset,r={top:t.y-i.y,left:t.x-i.x};this._changePosition(r),this._prevOffset=t},_changePosition:function(n){var t=u.locate(this._$content);u.move(this._$content,{left:t.left+n.left,top:t.top+n.top})},_allowedOffsets:function(){var t=this._deltaSize(),n=this.option("boundaryOffset");return{top:n.v,bottom:t.height-n.v,left:n.h,right:t.width-n.h}},_fireContentReadyAction:function(){this.option("visible")&&this._moveToContainer(),this.callBase.apply(this,arguments)},_moveFromContainer:function(){this._$content.appendTo(this.element()),this._detachWrapperToContainer()},_detachWrapperToContainer:function(){this._$wrapper.detach()},_moveToContainer:function(){this._attachWrapperToContainer(),this._$content.appendTo(this._$wrapper)},_attachWrapperToContainer:function(){var n=this.element();!this._$container||this._$container[0]===n.parent()[0]?this._$wrapper.appendTo(n):this._$wrapper.appendTo(this._$container)},_renderGeometry:function(){this.option("visible")&&this._renderGeometryImpl()},_renderGeometryImpl:function(){this._stopAnimation(),this._normalizePosition(),this._renderShading(),this._renderDimensions(),this._renderPosition()},_renderShading:function(){var n=this._$wrapper,t=this._getContainer();n.css("position",t.get(0)===window?"fixed":"absolute"),this.option("shading")&&n.show(),this._renderShadingDimensions(),this._renderShadingPosition()},_renderShadingPosition:function(){if(this.option("shading")){var n=this._getContainer();t.position(this._$wrapper,{my:"top left",at:"top left",of:n})}},_renderShadingDimensions:function(){if(this.option("shading")){var t=this._getContainer(),i=n.isWindow(t.get(0))?"100%":t.outerWidth(),r=n.isWindow(t.get(0))?"100%":t.outerHeight();this._$wrapper.css({width:i,height:r})}},_getContainer:function(){var n=this._position,t=this.option("container"),i=n?n.of:null;return a(t||i)},_renderDimensions:function(){this._$content.outerWidth(this.option("width")).outerHeight(this.option("height"))},_renderPosition:function(){var i,r,e;if(this._dragHandled){var f=this._$content,i=u.locate(f),n=this._allowedOffsets();u.move(f,{top:Math.min(Math.max(-n.top,i.top),n.bottom),left:Math.min(Math.max(-n.left,i.left),n.right)})}else{u.resetPosition(this._$content),this._renderPopupBoundaryOffset(),i=this._position,r=t.calculatePosition(this._$content,i);this._actions.onPositioning({position:r});e=t.position(this._$content,r);this._actions.onPositioned({position:e});ut(this._$content)}},_renderPopupBoundaryOffset:function(){var n=this.option("boundaryOffset");this._$content.css("margin",n.v+"px "+n.h+"px")},_focusTarget:function(){return this._$content},_attachKeyboardEvents:function(){this._keyboardProcessor=new e.KeyboardProcessor({element:this._$content,handler:this._keyboardHandler,context:this})},_keyboardHandler:function(t){var i=t.originalEvent,r=n(i.target);r.is(this._$content)&&this.callBase.apply(this,arguments)},_visibilityChanged:function(n){n?(this.option("visible")&&this._show(),this._dimensionChanged()):this._hide()},_dimensionChanged:function(){this._renderGeometry()},_clean:function(){this._cleanFocusState()},_dispose:function(){this._stopAnimation(),this._toggleViewPortSubscriptiion(!1),this._toggleSubscriptions(!1),this._updateZIndexStackPosition(!1),this._actions=null,this.callBase(),this._$wrapper.remove(),this._$content.remove()},_toggleDisabledState:function(n){this.callBase.apply(this,arguments),this._$content.toggleClass(nt,n)},_toggleRTLDirection:function(n){this._$content.toggleClass(d,n)},_optionChanged:function(t){var i=t.value;if(n.inArray(t.name,c)>-1){this._initActions();return}switch(t.name){case"dragEnabled":this._renderDrag();break;case"shading":case"shadingColor":this._toggleShading(this.option("visible"));break;case"width":case"height":case"position":case"boundaryOffset":this._renderGeometry();break;case"visible":delete this._dragHandled,this._renderVisibilityAnimate().done(n.proxy(function(){this._animateDeferred&&this._animateDeferred.resolveWith(this)},this));break;case"target":this._initTarget(i),this._invalidate();break;case"container":this._initContainer(i),this._invalidate();break;case"deferRendering":case"contentTemplate":this._invalidate();break;case"closeOnBackButton":this._toggleHideTopOverlayCallback(this.option("visible"));break;case"closeOnOutsideClick":this._toggleDocumentDownHandler(this.option("visible"));break;case"closeOnTargetScroll":this._toggleParentsScrollSubscription(this.option("visible"));break;case"animation":break;case"rtlEnabled":this._toggleRTLDirection(i);break;default:this.callBase(t)}},toggle:function(t){if(t=t===i?!this.option("visible"):t,t===this.option("visible"))return n.Deferred().resolve().promise();var r=n.Deferred();return this._animateDeferred=r,this.option("visible",t),r.promise().done(n.proxy(function(){delete this._animateDeferred},this))},show:function(){return this.toggle(!0)},hide:function(){return this.toggle(!1)},content:function(){return this._$content},repaint:function(){this._renderGeometry()}})),DevExpress.ui.dxOverlay.baseZIndex=function(n){l=n}}(jQuery,DevExpress),DevExpress.MOD_TMP_WIDGETS_FOR_EXPORTER=!0);DevExpress.MOD_TMP_EXPORTER||(function(n,t){var h=n.ui,c=n.utils,i="file",l="body",e="exportTo",o="print",a="dx-non-printable",v="dx-printable",r=["PDF","PNG","SVG"],s=["JPEG","GIF"].concat(r),u=n.viz.core,f=n.DOMComponent.inherit({_normalizeHtml:u.BaseWidget.prototype._normalizeHtml,_killTracker:u.BaseWidget.prototype._killTracker,_getSvgElements:function(){var n=this,i=[];return t(n.getsourceContainer()).find("svg").each(function(r){i[r]=n._normalizeHtml(t(this).clone().wrap("<div><\/div>").parent().html())}),JSON.stringify(i)},_appendTextArea:function(n,i,r){t("<textarea/>",{id:n,name:n,val:i}).appendTo(r)},_formSubmit:function(n){n.submit(),n.remove()},_setDefaultOptions:function(){this.callBase(),this.option({redrawOnResize:!1,menuAlign:"right",exportFormat:r,printingEnabled:!0,fileName:i,showMenu:!0})},_createWindow:function(){return window.open("","printDiv","")},_createExportItems:function(n){var r=this;return t.map(n,function(n){return(n=n.toUpperCase(),r.getsourceContainer().find("svg").length>1&&n==="SVG")?null:t.inArray(n.toUpperCase(),s)===-1?null:{name:n,text:n+" "+i}})},getsourceContainer:function(){return t(this.option("sourceContainer"))},_render:function(){var n=this,u=n.option("fileName"),f=n._createExportItems(n.option("exportFormat")),i=t("<div />"),r=[{name:"export",icon:e,items:f}],s={items:r,onItemClick:function(t){switch(t.itemData.name){case"print":n.print();break;case"export":break;default:n.exportTo(u,t.itemData.name)}}};n.option("showMenu")&&(n.option("printingEnabled")&&r.push({icon:o,name:"print",click:function(){n.print()}}),i.dxMenu(s),n._$element.empty(),n._$element.append(i))},print:function(){var i=this.getsourceContainer().html(),n=this._createWindow();n&&(t(n.document.body).html(i),n.document.close(),n.focus(),n.print(),n.close())},exportTo:function(n,i){var r=this,f=r.getsourceContainer(),u=t("<form/>",{method:"POST",action:r.option("serverUrl"),enctype:"application/x-www-form-urlencoded",target:"_self",css:{display:"none",visibility:"hidden"}});r._appendTextArea("exportContent",f.clone().wrap("<div><\/div>").parent().html(),u),r._appendTextArea("svgElements",r._getSvgElements(),u),r._appendTextArea("fileName",n,u),r._appendTextArea("format",i.toLowerCase(),u),r._appendTextArea("width",f.width(),u),r._appendTextArea("height",f.height(),u),r._appendTextArea("url",window.location.host,u),t(document.body).append(u),r._formSubmit(u)}});t.extend(!0,n,{exporter:{Exporter:f}}),n.registerComponent("dxExporter",f)}(DevExpress,jQuery),DevExpress.MOD_TMP_EXPORTER=!0);